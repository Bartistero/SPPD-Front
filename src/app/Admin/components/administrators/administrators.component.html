
    <div  fxLayoutAlign="center" >
        <button mat-raised-button  color="primary" (click)="showAdmins()" class="buttons">Pokaż administratorów</button>
        <button mat-raised-button  color="primary" (click)="showAddNewAdmin()"  class="buttons" >Dodaj administratora</button>

    
    </div>
    <div  fxLayoutAlign="center " >
    <mat-card id="cont"  fxFlex="50" [style.display]="newAdminStyle()">
        <mat-toolbar color="primary">Dodaj użytkownika</mat-toolbar>
        <form  fxLayout="column" class="login-form"  [formGroup]="adminForm" (ngSubmit)='onSubmitAdmin()'>
            <mat-form-field>
                <input matInput  placeholder="Imie" required  formControlName="name" (change)="nameChange()">
            
            </mat-form-field>

            <mat-form-field>
                <input matInput  placeholder="Drugie imie"   formControlName="middleName">
            
            </mat-form-field>

            <mat-form-field>
                <input matInput  placeholder="Nazwisko" required  (change)="lastNameChange()" formControlName="surname">
            
            </mat-form-field>

            <mat-form-field>
                <input matInput  placeholder="Login"  required [readonly]="disableMessage" formControlName="login" (change)="isLoginValid()">
                <mat-hint ><strong>Pole uzupełni się automatycznie po wprowadzeniu imienia i nazwiska</strong> </mat-hint>
            
            </mat-form-field>

            <mat-form-field>
                <input matInput  placeholder="Email" required formControlName="email">
                
            
            </mat-form-field>

            <mat-form-field>
                <input matInput  placeholder="Pesel" required   formControlName="pesel">
            
            </mat-form-field>

            
            <mat-radio-group  required placeholder="Wybierz płeć " formControlName="sex">
                <mat-radio-button value="MEN">Mężczyzna</mat-radio-button>
                <mat-radio-button value="WOMAN">Kobieta</mat-radio-button>
            </mat-radio-group>
                
            
           

            <mat-form-field>
                <input matInput   placeholder="Telefon" required   formControlName="phone">
                
            </mat-form-field>

            <mat-form-field>
                <mat-label>Uprawnienia</mat-label>
                 <mat-select formControlName="permission" required class="form-select" >
                     <mat-option *ngFor="let permission of permissions" [value]="permission" >
                     {{ permission}}
                     </mat-option>
                 </mat-select> 
             </mat-form-field> 

             <mat-form-field>
                <mat-label>Wydział</mat-label>
                 <mat-select formControlName="facultyDto" required class="form-select" >
                     <mat-option *ngFor="let faculty of faculties" [value]="faculty" >
                     {{ faculty.name }}
                     </mat-option>
                 </mat-select> 
             </mat-form-field> 

            <mat-form-field>
                <mat-label>Kraj</mat-label>
                <input type="text" matInput  [matAutocomplete]="auto" formControlName="countryDto">
                <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
                <mat-option *ngFor="let country of filteredCountries | async" [value]="country">
                     {{country.name}}
                </mat-option>
                 </mat-autocomplete>
             </mat-form-field> 

            <mat-form-field>
               <mat-label>Województwo</mat-label>
                <mat-select formControlName="voivodeshipDto"  required class="form-select" (selectionChange)="voivodeshipPicked()">
                    <mat-option *ngFor="let elem of voivodeships" [value]="elem" >
                    {{ elem.name.toLowerCase() }}
                    </mat-option>
                </mat-select> 
            </mat-form-field> 

            <mat-form-field *ngIf="showCounties">
                <mat-label>Powiat</mat-label>
                 <mat-select formControlName="countyDto" required class="form-select" (selectionChange)="countyPicked()">
                     <mat-option *ngFor="let county of counties" [value]="county">
                     {{ county.name }}
                     </mat-option>
                 </mat-select> 
             </mat-form-field> 

             <mat-form-field *ngIf="showBoroughs">
                <mat-label>Gmina</mat-label>
                 <mat-select formControlName="boroughDto" required class="form-select" (selectionChange)="boroughPicked()">
                     <mat-option *ngFor="let borough of boroughs" [value]="borough">
                     {{ borough.name }}
                     </mat-option>
                 </mat-select> 
             </mat-form-field> 

             <mat-form-field *ngIf="showCities">
                <mat-label>Miasto</mat-label>
                 <mat-select formControlName="cityDto" required class="form-select" (selectionChange)="cityPicked()">
                     <mat-option *ngFor="let city of cities" [value]="city">
                     {{ city.name }}
                     </mat-option>
                 </mat-select> 
             </mat-form-field> 

             <mat-form-field *ngIf="showStreets">
                <mat-label>Ulica</mat-label>
                

                 <input type="text" matInput  [matAutocomplete]="auto" formControlName="streetDto">
                 <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFnStreet">
                 <mat-option *ngFor="let street of filteredStreets | async" [value]="street">
                      {{street.characteristic}} {{street.secondPart}} {{street.firstPart}}
                 </mat-option>
                  </mat-autocomplete>

             </mat-form-field>

             <mat-form-field>
                <input matInput  placeholder="Number domu" required   formControlName="houseNumber">
            
            </mat-form-field>

            <mat-form-field>
                <input matInput  placeholder="Numer mieszkania"    formControlName="flatNumber">
            
            </mat-form-field>

            <button mat-raised-button  color="primary" type="submit" [disabled]="!adminForm.valid">Dodaj</button>
        </form>
    </mat-card>
</div>

<div  fxLayoutAlign="center " [style.display]="adminsStyle()">
    <div class="spacer"></div>



<table mat-table [dataSource]="dataSourceAdmins"  class="mat-elevation-z8" >

    
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef> Id  </th>
      <td mat-cell *matCellDef="let element"> {{element.id}} </td>
    </ng-container>
  
    
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Imie </th>
      <td mat-cell *matCellDef="let element"> {{element.name}} </td>
    </ng-container>

    <ng-container matColumnDef="surname">
        <th mat-header-cell *matHeaderCellDef>  Nazwisko </th>
        <td mat-cell *matCellDef="let element"> {{element.surname}} </td>
    </ng-container>

    <ng-container matColumnDef="permission">
        <th mat-header-cell *matHeaderCellDef>  Uprawnienia </th>
        <td mat-cell *matCellDef="let element"> {{element.permission}} </td>
    </ng-container>

    <ng-container matColumnDef="faculty">
        <th mat-header-cell *matHeaderCellDef>  Wydzial </th>
        <td mat-cell *matCellDef="let element"> {{element.faculty}} </td>
    </ng-container>


    <ng-container matColumnDef="edit">
      <th mat-header-cell *matHeaderCellDef> Edytuj</th>
      <td mat-cell *matCellDef="let element"><button mat-raised-button  color="primary" (click)="edit(element)">Edytuj</button> </td>
    </ng-container>

    <ng-container matColumnDef="delete">
      <th mat-header-cell *matHeaderCellDef>Usuń</th>
      <td mat-cell *matCellDef="let element"><button mat-raised-button  color="primary" (click)="delete(element)" >Usuń</button> </td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="displayedColAdmin"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColAdmin;"></tr>
  </table>
  <div class="spacer"></div>
</div>